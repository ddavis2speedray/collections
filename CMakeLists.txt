cmake_minimum_required(VERSION 3.1)
project(collections)
add_compile_options(-std=c++14)
add_subdirectory(mongo-cxx-driver ${PROJECT_BINARY_DIR}/mongo-client)
add_subdirectory(jsoncpp ${PROJECT_BINARY_DIR}/jsoncpp)
add_subdirectory(uri ${PROJECT_BINARY_DIR}/uri)
add_executable(collections main.cpp JsonSchema.cpp JsonSchema.h CollectionsManager.cpp CollectionsManager.h)
include_directories(mongo-cxx-driver/src ${PROJECT_BINARY_DIR}/mongo-client/include uri/src)
set(BOOST_LIBS /usr/local/lib/libboost_system-mt.a /usr/local/lib/libboost_regex-mt.a /usr/local/lib/libboost_thread-mt.a)
set(MONGO_LIBS mongo-client ${BOOST_LIBS})
set(JSON_LIBS ${PROJECT_BINARY_DIR}/jsoncpp/src/lib_json/libjsoncpp.a)
target_link_libraries(collections  ${MONGO_LIBS} ${JSON_LIBS})